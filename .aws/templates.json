{
  "templates": {
    "template.yaml": {
      "handlers": {
        "VP_ReplicarSuiteCRM.lambdaHandler": {
          "event": {
            "Records": [
              {
                "EventSource": "aws:sns",
                "EventVersion": "1.0",
                "EventSubscriptionArn": "arn:aws:sns:us-east-1:984544342457:VC_ReplicarMySQL:b90df25c-7a75-420a-b367-9a535bbabd77",
                "Sns": {
                  "Type": "Notification",
                  "MessageId": "731f79a2-5f2e-55ef-a5d9-2c2e9dab5141",
                  "TopicArn": "arn:aws:sns:us-east-1:984544342457:VC_ReplicarMySQL",
                  "Subject": null,
                  "Message": "{\"$type\":\"Quantik.Vinco.Lambda.Comunes.Mensajes.MsjPaqueteRDS, Quantik.Vinco.Lambda.Comunes\",\"IdCliente\":503,\"IdNegocio\":2,\"Fecha\":\"2019-06-26T00:45:57.894578+00:00\",\"Cantidad\":7,\"ListaRegistros\":[{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsEvento, Quantik.Vinco.Lambda.Comunes\",\"IdRdsRegistroChanged\":null,\"IdCliente\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":503,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdLocal\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":20,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdTipoEvento\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":3,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"NumeroUnico\":\"503-2-20-7901319\",\"FechaCreacion\":\"2019-06-26T00:45:54.894582+00:00\",\"Valor\":15.0,\"IdClienteResponsable\":null,\"IdUsuarioResponsable\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":8,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"Estado\":\"A\",\"TipoCodigoCliente\":\"E\",\"CodigoCliente\":\"daniel.vaca@outlook.com\",\"ValoresAcumulados\":[{\"$type\":\"Quantik.Vinco.Lambda.Comunes.Mensajes.ValoresAcumulados, Quantik.Vinco.Lambda.Comunes\",\"AvancePartida\":0.01,\"SaldoCuenta\":10.0}],\"IdEntidad\":0,\"IdRdsRegistro\":null,\"TipoOperacion\":1,\"RequiereActualizarId\":true,\"RequiereActualizarClavesForaneas\":false,\"TipoEntidad\":8,\"Procedimientos\":[],\"SentenciaExecute\":null},{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsCuenta, Quantik.Vinco.Lambda.Comunes\",\"IdRdsRegistroChanged\":null,\"NumeroUnico\":\"503-2-1-4293089\",\"IdCliente\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":503,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdNegocio\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":2,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdTipoCuenta\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":1,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"SaldoDisponible\":15.0,\"SaldoDisponibleBase\":15.0,\"FechaApertura\":\"2019-06-26T00:45:57.89946+00:00\",\"FechaVigencia\":\"2019-06-26T00:45:57.89946+00:00\",\"FechaExpiracion\":\"2119-06-26T00:45:57.89946+00:00\",\"SaldoContable\":15.0,\"SaldoContableBase\":15.0,\"Estado\":\"A\",\"IdEntidad\":1,\"IdRdsRegistro\":null,\"TipoOperacion\":2,\"RequiereActualizarId\":false,\"RequiereActualizarClavesForaneas\":false,\"TipoEntidad\":7,\"Procedimientos\":[],\"SentenciaExecute\":null},{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsPartida, Quantik.Vinco.Lambda.Comunes\",\"IdRdsRegistroChanged\":null,\"IdJuego\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":21,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdCliente\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":503,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdClienteAdmin\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":503,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"NumeroUnico\":\"503-2-4418956\",\"ValorAlcanzado\":0.01,\"Progreso\":100.0,\"ValorCliente\":0.01,\"FechaCreacion\":\"2019-06-26T00:45:57.899475+00:00\",\"FechaFin\":\"2019-06-26T00:45:57.899581+00:00\",\"Estado\":\"I\",\"Repeticion\":1,\"IdEntidad\":2,\"IdRdsRegistro\":null,\"TipoOperacion\":1,\"RequiereActualizarId\":true,\"RequiereActualizarClavesForaneas\":false,\"TipoEntidad\":6,\"Procedimientos\":[],\"SentenciaExecute\":null},{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsMovPartida, Quantik.Vinco.Lambda.Comunes\",\"IdRdsRegistroChanged\":null,\"IdPartida\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":null,\"IdEntidad\":2,\"PoseeClaveForanea\":false},\"IdEvento\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":null,\"IdEntidad\":0,\"PoseeClaveForanea\":false},\"IdCuenta\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":null,\"IdEntidad\":1,\"PoseeClaveForanea\":false},\"IdCliente\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":503,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdNegocio\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":2,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdLocal\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":20,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdCampania\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":21,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdJuego\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":21,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdReglaJuego\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":21,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"Valor\":0.01,\"ValorCuenta\":null,\"Estado\":\"A\",\"Tipo\":\"P\",\"FechaCreacion\":\"2019-06-26T00:45:57.899516+00:00\",\"FechaExpiracion\":\"2020-06-26T00:45:57.899516+00:00\",\"NumeroUnicoPartida\":\"503-2-4418956\",\"TipoJuego\":200,\"FechaFinPartida\":null,\"IdEntidad\":3,\"IdRdsRegistro\":null,\"TipoOperacion\":1,\"RequiereActualizarId\":true,\"RequiereActualizarClavesForaneas\":false,\"TipoEntidad\":14,\"Procedimientos\":[],\"SentenciaExecute\":null},{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsMovPartida, Quantik.Vinco.Lambda.Comunes\",\"IdRdsRegistroChanged\":null,\"IdPartida\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":null,\"IdEntidad\":2,\"PoseeClaveForanea\":false},\"IdEvento\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":null,\"IdEntidad\":0,\"PoseeClaveForanea\":false},\"IdCuenta\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":null,\"IdEntidad\":1,\"PoseeClaveForanea\":false},\"IdCliente\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":503,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdNegocio\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":2,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdLocal\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":20,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdCampania\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":21,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdJuego\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":21,\"IdEntidad\":null,\"PoseeClaveForanea\":true},\"IdReglaJuego\":null,\"Valor\":null,\"ValorCuenta\":10.0,\"Estado\":\"A\",\"Tipo\":\"C\",\"FechaCreacion\":\"2019-06-26T00:45:57.899579+00:00\",\"FechaExpiracion\":\"2020-06-26T00:45:57.899579+00:00\",\"NumeroUnicoPartida\":\"503-2-4418956\",\"TipoJuego\":200,\"FechaFinPartida\":null,\"IdEntidad\":4,\"IdRdsRegistro\":null,\"TipoOperacion\":1,\"RequiereActualizarId\":true,\"RequiereActualizarClavesForaneas\":false,\"TipoEntidad\":14,\"Procedimientos\":[],\"SentenciaExecute\":null},{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsMovIngresoCuenta, Quantik.Vinco.Lambda.Comunes\",\"IdRdsRegistroChanged\":null,\"IdCuenta\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":null,\"IdEntidad\":1,\"PoseeClaveForanea\":false},\"IdEvento\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsClaveForanea, Quantik.Vinco.Lambda.Comunes\",\"IdClaveForanea\":null,\"IdEntidad\":0,\"PoseeClaveForanea\":false},\"NumeroUnicoCuenta\":\"503-2-1-4293089\",\"Valor\":10.0,\"ValorBase\":10.0,\"Estado\":\"A\",\"FechaCreacion\":\"2019-06-26T00:45:57.89958+00:00\",\"FechaExpiracion\":\"2020-06-26T00:45:57.89958+00:00\",\"Saldo\":10.0,\"SaldoBase\":10.0,\"IdEntidad\":5,\"IdRdsRegistro\":null,\"TipoOperacion\":1,\"RequiereActualizarId\":true,\"RequiereActualizarClavesForaneas\":false,\"TipoEntidad\":15,\"Procedimientos\":[],\"SentenciaExecute\":null},{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsMovPartida, Quantik.Vinco.Lambda.Comunes\",\"IdRdsRegistroChanged\":null,\"IdPartida\":null,\"IdEvento\":null,\"IdCuenta\":null,\"IdCliente\":null,\"IdNegocio\":null,\"IdLocal\":null,\"IdCampania\":null,\"IdJuego\":null,\"IdReglaJuego\":null,\"Valor\":null,\"ValorCuenta\":null,\"Estado\":null,\"Tipo\":null,\"FechaCreacion\":null,\"FechaExpiracion\":null,\"NumeroUnicoPartida\":null,\"TipoJuego\":null,\"FechaFinPartida\":null,\"IdEntidad\":6,\"IdRdsRegistro\":null,\"TipoOperacion\":5,\"RequiereActualizarId\":false,\"RequiereActualizarClavesForaneas\":false,\"TipoEntidad\":14,\"Procedimientos\":[],\"SentenciaExecute\":{\"$type\":\"Quantik.Vinco.Lambda.Comunes.RDS.RdsSentenciaSQL, Quantik.Vinco.Lambda.Comunes\",\"ParametrosEntrada\":[{\"$type\":\"System.Tuple`2[[System.String, System.Private.CoreLib],[System.Object, System.Private.CoreLib]], System.Private.CoreLib\",\"Item1\":\"@NumeroUnicoPartida\",\"Item2\":\"503-2-4418956\"},{\"$type\":\"System.Tuple`2[[System.String, System.Private.CoreLib],[System.Object, System.Private.CoreLib]], System.Private.CoreLib\",\"Item1\":\"@FechaFinPartida\",\"Item2\":\"2019-06-26T00:45:57.899581+00:00\"}],\"Sentencia\":\"UPDATE VC_MovPartida set dFechaFinPartida=@FechaFinPartida where sNumeroUnicoPartida=@NumeroUnicoPartida\"}}],\"TipoMensaje\":0,\"NumeroUnicoPaquete\":null,\"OrdenPaquete\":0}",
                  "Timestamp": "2019-06-26T00:45:57.980Z",
                  "SignatureVersion": "1",
                  "Signature": "gbI+eXnHX4b4cevfdgmoOjdCiGXY/xRMtveEM+5kyhFMfTp8TsNwewStT9FCYUNQFHmgcS/FQSnuFl7HXKf8BwqAe7MHHlKcEwFhloQLjNSkk6wnrOXyqInQIYz7l6Rw1AnqGfhekeqhxmBc9+XYQLPqgt8tgfME4VU2RnntAYb3AljkLdCilGxrgJj7GQfB0DNMr60ux6TaF1E0CoslgYyBf90OYh5sKc2qYD40NhSo2wrpN4yzLnF2mKlmVgL2nILKqLUnlHYICDHPEQABhHXEKi/HciK71pKJHbAehV0oWLdKiZOlajbEv6N54cW5hUwYmvBtCGzTI97D0xBl1g==",
                  "SigningCertUrl": "https://sns.us-east-1.amazonaws.com/SimpleNotificationService-6aad65c2f9911b05cd53efda11f913f9.pem",
                  "UnsubscribeUrl": "https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:984544342457:VC_ReplicarMySQL:b90df25c-7a75-420a-b367-9a535bbabd77",
                  "MessageAttributes": {}
                }
              }
            ]
          },
          "environmentVariables": {}
        }
      }
    }
  }
}
